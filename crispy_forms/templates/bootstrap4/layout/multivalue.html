{% load crispy_forms_field %}
{% load crispy_forms_tags %}

{% if field.is_hidden %}
    {{ field }}
{% else %}

    <div class="form-row">
        {% for subfield in field.field.fields %}
            <div class="
                    {% if 'col' in field_class %}{{ field_class }}{% else %} col-md{% endif %} {% if not forloop.last %}form-group {% endif %} ">
                {% if subfield|is_checkbox %}
                    <div class="form-check">
                        {% render_multi_field field forloop.counter0 'class' 'form-check-input' %}
                        {% if subfield.label %}
                            <label for="{{ subfield.id_for_label }}"
                                   class="{{ label_class }}{% if subfield.required %} requiredField{% endif %}">
                            {{ subfield.label|safe }}{% endif %}
                        </label>
                    </div>
                {% elif subfield.errors %}
                    {% render_multi_field field forloop.counter0 'class' 'form-control is-invalid' %}
                {% else %}
                    {% render_multi_field field forloop.counter0 'class' 'form-control' %}
                {% endif %}
                {% if error_text_inline %}
                    {% include 'bootstrap4/layout/field_errors.html' %}
                {% else %}
                    {% include 'bootstrap4/layout/field_errors_block.html' %}
                {% endif %}
            </div>

        {% endfor %}

    </div>
    {% include 'bootstrap4/layout/help_text.html' %}
{% endif %}




